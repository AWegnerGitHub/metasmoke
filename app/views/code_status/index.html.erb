<script>
  window.commitSHA = "<%= CurrentCommit.strip %>"
</script>
<%= stylesheet_link_tag \
  "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/github.min.css",
  "https://cdn.rawgit.com/rtfpessoa/diff2html/01c0f152/dist/diff2html.min.css"
%>
<%= javascript_include_tag \
  "https://cdn.rawgit.com/rtfpessoa/diff2html/01c0f152/dist/diff2html.min.js",
  "https://cdn.rawgit.com/rtfpessoa/diff2html/01c0f152/dist/diff2html-ui.min.js",
  "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"
%>

<details open><summary class="h3">Revision <%= link_to "https://github.com/Charcoal-SE/metasmoke/commit/#{CurrentCommit}" do %><code><%= CurrentCommit.first(7) %></code><% end %></summary>
  <p>This commit is <span class="fill-status">… commits ahead, … commits behind</span> the <code><%= link_to "...", "", class: "fill-branch" %></code> branch. <%= link_to " diff", "#", id: "toggle-diff" %></p>
  <section class="diff hide"></section>
</details>

<details open><summary class="h3">Versions <%= link_to "Show ", "#", :id => "show-all-gem-versions" %></summary>

<table class="table" id="gems-versions-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><%= link_to "Ruby", "https://www.ruby-lang.org/en/" %></td>
      <td><%= RUBY_VERSION %></td>
    </tr>
    <% @gem_versions.each do |g| %>
      <tr class="<% if !@important_gems.include? g.name %>minor hide<% end %>">
        <td><%= link_to g.name.titleize, "https://rubygems.org/gems/#{g.name}" %></td>
        <td><%= g.version %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</details>
